var Karacsony=function(){var a=this,b=$("<img/>").attr("src","bulb_off.png"),c=["red","yellow","blue"],d=[{x:213,y:53},{x:179,y:132},{x:237,y:146},{x:195,y:169},{x:158,y:225},{x:233,y:254},{x:286,y:282},{x:149,y:268},{x:119,y:351},{x:194,y:368},{x:273,y:384},{x:152,y:449},{x:288,y:470},{x:229,y:500},{x:158,y:548},{x:31,y:584},{x:69,y:477},{x:129,y:563},{x:325,y:565},{x:376,y:580}];a.init=function(){for(var a=Math.floor(Math.random()*d.length),c=0;c<d.length;c++){var e=b.clone();e.appendTo("#bulbs").css({left:d[c].x-14+"px",top:d[c].y-29+"px"}).attr("class","bulb"),c==a&&e.data("bulboff","1")}},a.win=function(){$(".bulb").each(function(a,b){var d=Math.floor(3*Math.random());$(b).attr("src","bulb_"+c[d]+".png")}),$("#text").html("<b>Gratulélok, megtaláltad a hibás égőt! További kellemes ünnepeket és sikerekben gazdag újévet kívánok!!! <br/>Tomi")}};$(function(){var a=new Karacsony;a.init(),$("#draggable").draggable({revert:"invalid"}),$(".bulb").droppable({tolerance:"fit",over:function(a){var c=$(a.target);c.addClass("glow")},out:function(a){var c=$(a.target);c.removeClass("glow")},drop:function(b,c){$(c.draggable).css({left:0,top:0});var d=$(b.target);d.removeClass("glow");var e=0;$("#progressContainer").show();var f=setInterval(function(){$("#progress").css("width",e++ +"%"),100==e&&($("#progressContainer").hide(),clearInterval(f),d.data("bulboff")&&a.win())},20)}})});